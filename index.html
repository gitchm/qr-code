<html lang="en">

<head>
  <title>GITCHM Pass</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/signin.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script src="js/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.css" rel="stylesheet" />
  <!-- MDB -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
  <script>
    $('.datepicker').datepicker();
  </script>

</head>

<body class="text-center">

  <main class="form-signin">
    <form name="valForm" onsubmit="return(validate());">
      <img class="mb-4" src="files/logo.jpg" alt="" width="300">
      <h1 class="h3 mb-3 fw-normal">Enter Applicable Information</h1>

      <div class="form-floating">
        <input type="text" class="form-control" id="fname" name="nname" placeholder="Lastname-Firstname-Middle">
        <label for="floatingInput">Full Name</label>
      </div>
      <div class="form-floating ">
        <input type="date" id="datepicker" name="ndate" class="form-control" placeholder="dd/mm/yyyy">
        <label for="floatingInput">Birthdate</label>
        <script>
          $('#datepicker').datepicker({
            uiLibrary: 'bootstrap4'
          });
        </script>
      </div>
      <div class="input-group form-floating">
        <label class="input-group-text" for="inputGroupSelect01">Options</label>
        <select class="form-select" id="inputGroupSelect01">
          <option selected>Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>
      </div>
      <div class="form-floating">
        <input type="text" class="form-control" rows="3" id="faddress" name="naddress" placeholder="blg.no/district/barangay/">
        <label for="floatingInput">Address</label>
      </div>
      <div class="form-floating">
        <input type="email" class="form-control" id="femail" name="nemail" placeholder="fname.lastname@gmail.com">
        <label for="floatingInput">Email</label>
      </div>
      <div class="form-floating">
        <input type="Phone" class="form-control" id="fphone" name="nphone" placeholder="09123456789">
        <label for="floatingInput">Phone Number</label>
      </div>
      <br>
      <button type="button" class="w-100 btn btn-lg btn-primary" id="generate" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Generate QR Code</button>
      <p class="mt-5 mb-3 text-muted">&copy; Gabriel Asuncion</p>
    </form>

  </main>

  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Generated QR Code</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" size="60" class="form-control" id="content" placeholder="Enter content" style="display: none;" />
          <img src="https://chart.googleapis.com/chart?cht=qr&chl=Hello+World&chs=160x160&chld=L|0" class="qr-code img-thumbnail img-responsive" width="100%;" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Back</button>
          <a download="GITHCM-QRCODE.png" href="https://chart.googleapis.com/chart?cht=qr&chl=Hello+World&chs=160x160&chld=L|0" id="generate" class="qr-dl btn btn-primary"><i class="fa fa-download"></i> Download QR Code</a>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.js">
</script>

<script>
  function htmlEncode(value) {
    return $('<div/>').text(value)
      .html();
  }
  $(function() {
    $('#generate').click(function() {
      generateQR();
      let finalURL =
        'https://chart.googleapis.com/chart?cht=qr&chl=' +
        htmlEncode($('#content').val()) +
        '&chs=160x160&chld=L|0'
      $('.qr-code').attr('src', finalURL);
      $('.qr-dl').attr('href', finalURL);
    });
  });
</script>

</html>